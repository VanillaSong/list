<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
        :root {
            --bg-color: #2d2d2d;
            --header-bg: #333;
            --text-color: #fff;
            --button-bg: #444;
            --button-hover: #555;
            --border-color: #444;
            --row-alt-bg: #333;
            --pagination-bg: #333;
            --pagination-border: #444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 20px;
            position: relative;
            min-height: 100vh;
        }

        .header {
            display: flex;
            align-items: center;
            background-color: var(--header-bg);
            padding: 10px 15px;
            border-radius: 5px 5px 0 0;
            gap: 10px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .search-container {
            display: flex;
            align-items: center;
            background-color: #444;
            border-radius: 5px;
            padding: 5px 10px;
            width: 500px;
            position: relative;
        }

        .search-icon {
            margin-right: 5px;
            color: #999;
        }

        .search-input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: var(--text-color);
            outline: none;
            padding: 5px 0;
        }

        .search-clear {
            background: transparent;
            border: none;
            color: #999;
            cursor: pointer;
            padding: 0 5px;
        }

        .icon-buttons {
            display: flex;
            gap: 5px;
        }

        .icon-button {
            width: 30px;
            height: 30px;
            background-color: var(--button-bg);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .icon-button:hover {
            background-color: var(--button-hover);
        }

        .icon-button img {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }

        .refresh-btn {
            margin-left: auto;
            background-color: var(--button-bg);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
        }

        .refresh-btn:hover {
            background-color: var(--button-hover);
        }

        /* === –®–∞–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã === */
		.table-header-row {
			display: flex;
			background-color: var(--header-bg);
			border-top: 1px solid var(--border-color);
			border-bottom: 1px solid var(--border-color);
			position: sticky;
			top: 40px;
			z-index: 99;
			/* –£–±–∏—Ä–∞–µ–º padding, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª width */
			padding: 0;
		}

		.table-header-cell {
			padding: 12px 15px;
			font-weight: normal;
			cursor: pointer;
			text-align: left;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
			background-color: var(--header-bg);
		}

		.table-header-cell:nth-child(1) { width: 40%; }
		.table-header-cell:nth-child(2) { width: 40%; }
		.table-header-cell:nth-child(3) { width: 60px; display: flex; align-items: center; justify-content: center; }
		.table-header-cell:nth-child(4) { width: 100px; display: flex; align-items: center; justify-content: center; }

		.table-header-cell:hover {
			background-color: #444;
		}

        /* === –¢–∞–±–ª–∏—Ü–∞ === */
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--bg-color);
            border-top: 1px solid var(--border-color);
            margin-top: 0;
            table-layout: fixed;
        }

        colgroup col { }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        tr:nth-child(even) {
            background-color: var(--row-alt-bg);
        }

        .flags-container {
            display: flex;
            gap: 5px;
            align-items: center;
            justify-content: center;
        }

        .flag-icon {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }

        .request-button {
            background-color: var(--button-bg);
            color: var(--text-color);
            border: none;
            padding: 6px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            width: 100px;
            text-align: center;
            white-space: nowrap;
        }

        .request-button:hover {
            background-color: var(--button-hover);
        }

        .hidden {
            display: none;
        }

        /* === –ü–∞–≥–∏–Ω–∞—Ü–∏—è === */
        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: var(--pagination-bg);
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 99;
            margin-top: 10px;
        }

        .items-per-page {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .items-per-page label {
            font-size: 14px;
        }

        .items-per-page select {
            background-color: var(--button-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
        }

        .page-info {
            font-size: 14px;
        }

        .page-controls {
            display: flex;
            gap: 10px;
        }

        .page-btn {
            background-color: var(--button-bg);
            color: var(--text-color);
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .page-btn:hover {
            background-color: var(--button-hover);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
		
		/* === –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ === */
		.modal {
			display: none;
			position: fixed;
			z-index: 1000;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.7);
			justify-content: center;
			align-items: center;
		}

		.modal-content {
			background-color: var(--header-bg);
			padding: 20px;
			border-radius: 8px;
			width: 90%;
			max-width: 500px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
			position: relative;
		}

		.modal-content h3 {
			margin-top: 0;
			margin-bottom: 10px;
		}

		.modal-content p {
			margin: 8px 0;
			font-size: 14px;
		}

		.donate-links a {
			color: #ffcc00;
			text-decoration: underline;
			display: block;
			margin: 5px 0;
		}

		.donate-links a:hover {
			color: #fff;
		}

		.modal-buttons {
			display: flex;
			gap: 10px;
			margin-top: 20px;
			justify-content: space-between;
		}

		.modal-buttons button {
			padding: 8px 16px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			transition: background-color 0.2s;
		}

		#cancelButton {
			background-color: var(--button-bg);
			color: white;
		}

		#cancelButton:hover {
			background-color: var(--button-hover);
		}

		#copyButton {
			background-color: var(--button-bg);
			color: white;
		}

		#copyButton:hover {
			background-color: var(--button-hover);
		}
    </style>
</head>
<body>
    <div class="header">
        <div class="search-container">
            <span class="search-icon">üîç</span>
            <input type="text" id="searchInput" class="search-input" placeholder="Search">
            <button class="search-clear" id="clearSearch">√ó</button>
        </div>
        <div class="icon-buttons">
            <div class="icon-button" data-filter="earth"><img src="icons/earth.png" alt="Other" title="–ù–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö"></div>
            <div class="icon-button" data-filter="film"><img src="icons/film.png" alt="Film" title="–ò–∑ –∫–∏–Ω–æ—Ñ–∏–ª—å–º–æ–≤"></div>
            <div class="icon-button" data-filter="mult"><img src="icons/mult.png" alt="Animation" title="–ò–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤"></div>
            <div class="icon-button" data-filter="piano"><img src="icons/piano.png" alt="Lyrics" title="–õ–∏—Ä–∏—á–µ—Å–∫–∏–µ"></div>
            <div class="icon-button" data-filter="dance"><img src="icons/dance.png" alt="Dance" title="–ü–æ—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å"></div>
            <div class="icon-button" data-filter="rock"><img src="icons/rock.png" alt="Rock" title="–†–û–ö"></div>
            <div class="icon-button" data-filter="pop"><img src="icons/pop.png" alt="Pop" title="–ü–û–ü"></div>
            <div class="icon-button" data-filter="folk"><img src="icons/folk.png" alt="Folk" title="–ù–∞—Ä–æ–¥–Ω—ã–µ"></div>
            <div class="icon-button" data-filter="retro"><img src="icons/retro.png" alt="Retro" title="–†–µ—Ç—Ä–æ"></div>
        </div>
        <button class="refresh-btn" id="refreshBtn">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
    </div>

    <div class="table-header-row">
        <div class="table-header-cell" id="sortTitle">Title</div>
        <div class="table-header-cell" id="sortArtist">Artist</div>
        <div class="table-header-cell"></div>
        <div class="table-header-cell"></div>
    </div>

    <table id="musicTable">
        <colgroup>
            <col style="width: 40%">
            <col style="width: 40%">
            <col style="width: 120px">
            <col style="width: 100px">
        </colgroup>
        <tbody id="tableBody"></tbody>
    </table>

    <div class="pagination">
        <div class="items-per-page">
            <label for="itemsPerPage">Items per page:</label>
            <select id="itemsPerPage">
                <option value="5">5</option>
                <option value="10" selected>10</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
        <div class="page-info" id="pageInfo">1 ‚Äì 10 of 0</div>
        <div class="page-controls">
            <button class="page-btn" id="firstPage">¬´</button>
            <button class="page-btn" id="prevPage">‚Äπ</button>
            <button class="page-btn" id="nextPage">‚Ä∫</button>
            <button class="page-btn" id="lastPage">¬ª</button>
        </div>
    </div>

	<div id="requestModal" class="modal">
		<div class="modal-content">
			<p>–ó–∞–∫–∞–∑ –ø–µ—Å–Ω–∏ <strong><span id="modalArtistTitle">Artist ‚Äì Title</span></strong> –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –æ—Ç 200 —Ä—É–±–ª–µ–π –Ω–∞</p>
			<div class="donate-links">
				<a href="https://www.donationalerts.com/r/vanilla_bun_" target="_blank">https://www.donationalerts.com/r/vanilla_bun_</a><br>
				<a href="https://new.donatepay.ru/@vanillabun" target="_blank">https://new.donatepay.ru/@vanillabun</a><br>
				–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—É –´-–ë–∞–Ω–∫: 0000 0000 0000 0000 (–ò–º—è –§.)
			</div>
			<div class="modal-buttons">
				<button id="cancelButton">Cancel</button>
				<button id="copyButton">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ</button>
			</div>
		</div>
	</div>

	<script>
		// === –ú–∞–ø–ø–∏–Ω–≥–∏ ===
		const attrToIcon = {
			"–ê–Ω–≥–ª–∏–π—Å–∫–∏–µ": "uk.png",
			"–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ": "fr.png",
			"–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ": "it.png",
			"–ú–æ–ª–¥–∞–≤—Å–∫–∏–µ": "md.png",
			"–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ": "ua.png",
			"–ò–∑ –∫–∏–Ω–æ—Ñ–∏–ª—å–º–æ–≤": "film.png",
			"–ò–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤": "mult.png",
			"–õ–∏—Ä–∏—á–µ—Å–∫–∏–µ": "piano.png",
			"–ü–æ—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å": "dance.png",
			"–†–û–ö": "rock.png",
			"–ü–û–ü": "pop.png",
			"–ù–∞—Ä–æ–¥–Ω—ã–µ": "folk.png",
			"–†–µ—Ç—Ä–æ": "retro.png"
		};

		const hiddenInTable = new Set([
			"–ù–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö",
			"–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ",
			"A cappella",
			"–ö–æ–ª—ã–±–µ–ª—å–Ω—ã–µ"
		]);

		const attrPriority = [
			"–ê–Ω–≥–ª–∏–π—Å–∫–∏–µ", "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ", "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ", "–ú–æ–ª–¥–∞–≤—Å–∫–∏–µ", "–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ",
			"–ò–∑ –∫–∏–Ω–æ—Ñ–∏–ª—å–º–æ–≤",
			"–ò–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤",
			"–õ–∏—Ä–∏—á–µ—Å–∫–∏–µ",
			"–ü–æ—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å",
			"–†–û–ö",
			"–ü–û–ü",
			"–ù–∞—Ä–æ–¥–Ω—ã–µ",
			"–†–µ—Ç—Ä–æ"
		];

		const filterMap = {
			'earth': ["–ê–Ω–≥–ª–∏–π—Å–∫–∏–µ", "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ", "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ", "–ú–æ–ª–¥–∞–≤—Å–∫–∏–µ", "–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ"],
			'film': ["–ò–∑ –∫–∏–Ω–æ—Ñ–∏–ª—å–º–æ–≤"],
			'mult': ["–ò–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤"],
			'piano': ["–õ–∏—Ä–∏—á–µ—Å–∫–∏–µ"],
			'dance': ["–ü–æ—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å"],
			'rock': ["–†–û–ö"],
			'pop': ["–ü–û–ü"],
			'folk': ["–ù–∞—Ä–æ–¥–Ω—ã–µ"],
			'retro': ["–†–µ—Ç—Ä–æ"]
		};

		const fallbackIcon = "unknown.png";

		// === –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ===
		let allSongs = [];
		let filteredSongs = [];
		let currentPage = 1;
		let itemsPerPage = 10;
		let sortColumn = null;
		let sortDirection = 'asc';
		let activeFilters = [];
		let currentSong = { artist: '', title: '' };

		// === –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü—ã ===
		function renderTable() {
			const tbody = document.getElementById('tableBody');
			tbody.innerHTML = '';

			const startIndex = (currentPage - 1) * itemsPerPage;
			const endIndex = Math.min(startIndex + itemsPerPage, filteredSongs.length);

			for (let i = startIndex; i < endIndex; i++) {
				const row = filteredSongs[i];
				const title = row.title || '';
				const artist = row.artist || '';
				const attrs = row.attributes ? row.attributes.split(',').map(s => s.trim()) : [];

				const visibleAttrs = attrs.filter(attr => !hiddenInTable.has(attr));
				visibleAttrs.sort((a, b) => {
					const ia = attrPriority.indexOf(a);
					const ib = attrPriority.indexOf(b);
					if (ia === -1 && ib === -1) return 0;
					if (ia === -1) return 1;
					if (ib === -1) return -1;
					return ia - ib;
				});

				let flagsHtml = '';
				if (visibleAttrs.length > 0) {
					flagsHtml = '<div class="flags-container">';
					visibleAttrs.forEach(attr => {
						const iconName = attrToIcon[attr] || fallbackIcon;
						flagsHtml += `<img class="flag-icon" src="icons/${iconName}" alt="${attr}">`;
					});
					flagsHtml += '</div>';
				}

				const tr = document.createElement('tr');
				const requestBtn = document.createElement('button');
				requestBtn.className = 'request-button';
				requestBtn.textContent = 'Request';
				requestBtn.addEventListener('click', () => {
					currentSong.artist = artist;
					currentSong.title = title;
					openRequestModal();
				});

				tr.innerHTML = `
					<td>${title}</td>
					<td>${artist}</td>
					<td>${flagsHtml}</td>
					<td></td>
				`;
				tr.querySelector('td:last-child').appendChild(requestBtn);
				tbody.appendChild(tr);
			}

			const pageInfo = document.getElementById('pageInfo');
			pageInfo.textContent = `${startIndex + 1} ‚Äì ${endIndex} of ${filteredSongs.length}`;

			const totalPages = Math.ceil(filteredSongs.length / itemsPerPage);
			document.getElementById('firstPage').disabled = currentPage === 1;
			document.getElementById('prevPage').disabled = currentPage === 1;
			document.getElementById('nextPage').disabled = currentPage >= totalPages;
			document.getElementById('lastPage').disabled = currentPage >= totalPages;
		}

		// === –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–ø–æ–∏—Å–∫ + —Ñ–∏–ª—å—Ç—Ä—ã) ===
		function filterSongs() {
			const term = document.getElementById('searchInput').value.toLowerCase().trim();

			filteredSongs = allSongs.filter(row => {
				const title = row.title.toLowerCase();
				const artist = row.artist.toLowerCase();
				const matchesSearch = title.includes(term) || artist.includes(term);
				if (!matchesSearch) return false;

				const songAttrs = new Set(row.attributes ? row.attributes.split(',').map(s => s.trim()) : []);

				for (const key of activeFilters) {
					const required = filterMap[key];
					if (!required.some(attr => songAttrs.has(attr))) {
						return false;
					}
				}
				return true;
			});

			currentPage = 1;
			renderTable();
		}

		// === –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ===
		function sortTable(column) {
			if (sortColumn === column) {
				sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
			} else {
				sortColumn = column;
				sortDirection = 'asc';
			}

			filteredSongs.sort((a, b) => {
				const valA = a[column].toLowerCase();
				const valB = b[column].toLowerCase();
				return sortDirection === 'asc'
					? valA.localeCompare(valB)
					: valB.localeCompare(valA);
			});

			renderTable();
		}

		// === –ó–∞–≥—Ä—É–∑–∫–∞ CSV ===
		function loadCSV() {
			Papa.parse('song-export.csv', {
				download: true,
				header: true,
				skipEmptyLines: true,
				complete: function(results) {
					allSongs = results.data.filter(row => row.active === 'true');
					localStorage.setItem('songsData', JSON.stringify(allSongs));
					localStorage.setItem('songsLastUpdate', new Date().toISOString());
					filterSongs();
				},
				error: function(err) {
					console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CSV:', err);
					alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å song-export.csv');
				}
			});
		}

		// === –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ===
		function openRequestModal() {
			const modal = document.getElementById('requestModal');
			const artistTitleEl = document.getElementById('modalArtistTitle');
			artistTitleEl.textContent = `${currentSong.artist} - ${currentSong.title}`;
			modal.style.display = 'flex';
		}

		function closeRequestModal() {
			document.getElementById('requestModal').style.display = 'none';
		}

		// === –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ===
		document.addEventListener('DOMContentLoaded', function() {
			const cached = localStorage.getItem('songsData');
			if (cached) {
				allSongs = JSON.parse(cached);
				filterSongs();
			} else {
				loadCSV();
			}

			// –ü–æ–∏—Å–∫
			document.getElementById('searchInput').addEventListener('input', filterSongs);
			document.getElementById('clearSearch').addEventListener('click', () => {
				document.getElementById('searchInput').value = '';
				filterSongs();
			});

			// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
			document.getElementById('refreshBtn').addEventListener('click', loadCSV);

			// –ü–∞–≥–∏–Ω–∞—Ü–∏—è
			document.getElementById('itemsPerPage').addEventListener('change', (e) => {
				itemsPerPage = parseInt(e.target.value);
				currentPage = 1;
				renderTable();
			});

			document.getElementById('firstPage').addEventListener('click', () => {
				currentPage = 1;
				renderTable();
			});

			document.getElementById('prevPage').addEventListener('click', () => {
				if (currentPage > 1) {
					currentPage--;
					renderTable();
				}
			});

			document.getElementById('nextPage').addEventListener('click', () => {
				const totalPages = Math.ceil(filteredSongs.length / itemsPerPage);
				if (currentPage < totalPages) {
					currentPage++;
					renderTable();
				}
			});

			document.getElementById('lastPage').addEventListener('click', () => {
				currentPage = Math.ceil(filteredSongs.length / itemsPerPage);
				renderTable();
			});

			// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
			document.getElementById('sortTitle').addEventListener('click', () => sortTable('title'));
			document.getElementById('sortArtist').addEventListener('click', () => sortTable('artist'));

			// –§–∏–ª—å—Ç—Ä—ã
			const iconButtons = document.querySelectorAll('.icon-button[data-filter]');
			iconButtons.forEach(btn => {
				const key = btn.dataset.filter;
				btn.addEventListener('click', () => {
					const index = activeFilters.indexOf(key);
					if (index === -1) {
						activeFilters.push(key);
						btn.style.backgroundColor = '#2D2D2D';
					} else {
						activeFilters.splice(index, 1);
						btn.style.backgroundColor = '';
					}
					filterSongs();
				});
			});

			// –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
			document.getElementById('cancelButton').addEventListener('click', closeRequestModal);
			document.getElementById('copyButton').addEventListener('click', () => {
				const text = `${currentSong.artist} - ${currentSong.title}`;
				navigator.clipboard.writeText(text).then(() => {
					alert('–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!');
				}).catch(err => {
					console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å: ', err);
				});
			});

			// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞
			document.getElementById('requestModal').addEventListener('click', (e) => {
				if (e.target === e.currentTarget) {
					closeRequestModal();
				}
			});

			// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∞–≤–∏—à–µ Esc
			document.addEventListener('keydown', (e) => {
				if (e.key === 'Escape' && document.getElementById('requestModal').style.display === 'flex') {
					closeRequestModal();
				}
			});
		});
	</script>
</body>
</html>
